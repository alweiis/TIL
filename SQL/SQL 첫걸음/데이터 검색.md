# 데이터 검색

### 테이블에서 데이터 검색

에스터리스크(*) : '모든 열'을 의미하는 메타문자이다.

예약어와 데이터베이스 객체명은 대소문자를 구별하지 않는다.

열은 하나의 자료형만 가질 수 있다. 수치형의 열에 문자형의 데이터를 저장할 수는 없다.

NULL : 특별한 데이터 값으로 아무것도 저장되어 있지 않는 상태를 의미한다.



### 테이블 구조 참조하기

```sql
DESC 테이블명;
```

DESC 명령으로 테이블에 어떤 열이 정의되어 있는지 확인할 수 있다.

- 자료형
  1. Integer 형 
     - 수치형의 하나로 정수값을 저장할 수 있는 자료형이다.
  2. Char 형(고정 길이 문자열)
     - 문자열을 저장할 수 있는 자료형이다.
     - 언제나 고정된 길이로 데이터가 저장되기 때문에 최대 길이보다 작은 문자열을 저장할 결우 공백문자로 나머지를 채운 후 저장된다.
  3. Varchar 형(가변 길이 문자열)
     - 문자열을 저장할 수 있는 자료형이다.
     - Char 형과 다르게 데이터 크기에 맞춰 저장공간의 크기가 변경된다.
  4. Date 형
     - 날짜값을 저장할 수 있는 자료형이다. 
     - 날짜값이란 '2021년 10월 15일'과 같이 연월일의 데이터를 저장할 수 있는 형이다.
  5. Time 형
     - 시간을 저장할 수 있는 자료형이다.
     - 예를 들어 '11시 24분 30초'와 같이 시분초의 데이터를 저장할 수 있는 형이다.



### 검색 조건 지정하기

데이터 검색에는 열을 지정하는 방법과 행을 지정하는 방법이 있다.

1. SELECT 구에서 열 지정하기

   ```SQL
   # SELECT 구에서 열 지정
   SELECT 열1, 열2 ... FROM 테이블명
   ```

   - 열은 콤마(,)를 이용하여 검색하고자 하는 열을 지정할 수 있다. 이 때, 지정된 열만 결괏값으로 표시된다.
   - 열 지정 순서는 임의로 정할 수 있다. 테이블에서 정의된 열의 순서와 꼭 일치하지 않아도 된다.

   

2. WHERE 구에서 행 지정하기

   ```SQL
   # WHERE 구로 행 추출
   SELECT 열 FROM 테이블명 WHERE 조건식
   ```

   - WHERE 구는 FROM 구의 뒤에 표기한다.

   - 예약어 'WHERE' 뒤에 검색 조건을 표기한다. 조건에 일치하는 행만 SELECT 의 결과로 반환된다.

   - 조건식은 참 또는 거짓의 진리값을 반환하는 식으로, 열과 연산자, 상수로 구성된다.

   - '!=' 연산자와 '<>' 연산자 : 두 연산자 모두 '값이 서로 다른 경우' 참이 되는 검색 조건

     ```sql
     SELECT * FROM sample21 WHERE no != 2;
     
     +------+--------+------------+-------------------+
     | no   | name   | birthday   | address           |
     +------+--------+------------+-------------------+
     |    1 | 박준용 | 1976-10-18 | 대구광역시 수성구 |
     |    3 | 홍길동 | NULL       | 서울특별시 마포구 |
     +------+--------+------------+-------------------+
     2 rows in set (0.00 sec)
     
     SELECT * FROM sample21 WHERE no <> 2;
     +------+--------+------------+-------------------+
     | no   | name   | birthday   | address           |
     +------+--------+------------+-------------------+
     |    1 | 박준용 | 1976-10-18 | 대구광역시 수성구 |
     |    3 | 홍길동 | NULL       | 서울특별시 마포구 |
     +------+--------+------------+-------------------+
     2 rows in set (0.00 sec)
     ```

   - 수치형 조건식의 경우 비교할 숫자를 그대로 조건식에 표기한다.

   - 문자열형을 비교하는 경우와 날짜시간형의 경우에는 싱글쿼트(' ')로 둘러싸 표기해야 한다.

     

3. NULL값 검색

   - NULL 값을 검색할 때는 = 연산자로 검색할 수 없다.  'IS NULL'을 사용해야 한다.
   - 반대로 NULL이 아닌 행을 검색할 때는 'IS NOT NULL'을 사용한다.



### 조건 조합하기

- AND
  - 조건식1 AND 조건식2
  - AND를 기준으로 좌우의 식 모두 참일 경우 AND 연산자는 참을 반환한다.
  - 조건식 중 하나라도 거짓이 있다면 결과는 거짓이 된다.

- OR
  - 조건식1 OR 조건식2
  - AND와 달리 어느 쪽이든 조건을 만족하면 참을 반환한다.
  - 모든 조건이 거짓인 경우 결과는 거짓이 된다.

- AND와 OR를 사용할 경우 주의할 점
  - AND는 OR에 비해 연산자의 우선 순위가 높다.
  - AND와 OR를 같이 사용하면 괄호로 묶어 조건을 명확하게 구분해야 한다.

- NOT
  - NOT 조건식
  - 오른쪽에만 항목을 지정하는 '단항 연산자'이다.
  - 오른쪽에 지정한 조건식의 반대 값을 반환한다.



### 패턴 매칭에 의한 검색

1. LIKE로 패턴 매칭하기
   - 열명 LIKE '패턴'
   - LIKE 술어는 이항 연산자처럼 항목을 지정한다. 왼쪽에는 매칭 대상을 지정하고 오른쪽에는 패턴을 문자열로 지정한다.
   - 패턴을 정의할 때는 '%'나 '_'와 같은 메타문자를 사용할 수 있다.
   - % : 임의의 문자열과 매치하고, 빈 문자열에도 매치한다.
   - _ : 임의의 문자 하나를 의미한다.

2. LIKE로 %를 검색하기
   - %를 LIKE로 검색할 경우 \%로 한다. (_의 경우도 이와 같다)





